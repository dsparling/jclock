<html>
<head>
  <title>jclock - default 24-hour clock (localtime)</title>

  <script type="text/javascript" src="jquery-1.3.1.min.js"></script>
  <script type="text/javascript" src="jquery.jclock.js"></script>

  <link rel="stylesheet" type="text/css" href="JSSpec.css" />
  <script type="text/javascript" src="diff_match_patch.js"></script>
  <script type="text/javascript" src="JSSpec.js"></script>

  <script type="text/javascript">
    $(function($) {
      $('.jclock').jclock();
    });
  </script>

  <script type="text/javascript">
  describe('deault 24-hour clock', {
    'before': function() {
      var curDate = new Date();
      var curHour = ((curDate.getHours() < 10 ? "0" : "") + curDate.getHours());
      var curMinute = ((curDate.getMinutes() < 10 ? "0" : "") + curDate.getMinutes());
      var curSecond = ((curDate.getSeconds() < 10 ? "0" : "") + curDate.getSeconds());
      testTime = curHour + ":" + curMinute + ":" + curSecond
    },
    'should match regex': function() {
      var clock = (document.getElementById('clock1')).innerHTML
      value_of(clock).should_match(/\d{2}:\d{2}:\d{2}/);
    },
    'should match time': function() {
      var clock = (document.getElementById('clock1')).innerHTML
      // Need to add a time window since seconds may not match
      value_of(clock).should_be(testTime);
    }
  })
</script>

</head>

<body>
<div style="display:none;"><p>A</p><p>B</p>
</div>
<div class="jclock" id="clock1"></div>
</body>

</html>
